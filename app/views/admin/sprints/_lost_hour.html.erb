<%= form_for [:admin, project, sprint], id: "lost_hour_form" do |f| %>
  <div class="col-md-7 col-md-offset-5">
    <table class="table table-bordered" id="lost_hour_table" data-count-col="10">
      <tbody>
        <tr>
          <th class="header_column"><%= t "lost_hour.lost_hour" %></th>
          <% Settings.sprint.default_days.times do %>
              <th><input type="number" disabled class="body_column"></th>
          <% end %>
        </tr>
        <tr>
          <th class="header_column"><%= t "lost_hour.work_hour" %></th>
            <% Settings.sprint.default_days.times do %>
              <th><input type="number" disabled class="body_column"></th>
            <% end %>
        </tr>
        <% @sprint.time_logs.group_by(&:assignee).each do |assignee, time_logs| %>
          <tr>
            <td class="assignees_name"><%= assignee.user.name %></td>
            <%= f.fields_for :time_logs, time_logs do |time_log_builder| %>
              <td>
                <%= time_log_builder.hidden_field :assignee_id,
                  value: assignee.id %>
                <%= time_log_builder.hidden_field :work_date,
                  value: get_work_date(time_log_builder.index, @sprint) %>
                <%= time_log_builder.text_field :lost_hour, type: :number %>
              </td>
            <% end %>
          </tr>
        <% end %>
      </tbody>
    </table>
    <div class="col-md-offset-11">
      <button type="submit" class="btn btn-info"><%= t "lost_hour.save" %></button>
    </div>
  </div>
<% end %>
